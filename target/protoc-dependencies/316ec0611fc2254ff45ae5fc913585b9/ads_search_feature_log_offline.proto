syntax = "proto3";

package com.xiaohongshu.ads.pb;

option java_package = "com.xiaohongshu.ads.pb";
option java_outer_classname = "AdsSearchCtrFeatureLogProtosOffline";

message AdsSearchCtrFeatureLog {
    string query = 1;
    repeated string query_segments = 2;
    string hour_of_day = 3;
    int32 ad_placement_value = 4;
    string user_id = 5;
    int32 gender_value = 6;
    int32 age = 7;
    string usual_country = 8;
    string usual_province = 9;
    string usualcity = 10;
    int32 usual_city_tier_value = 11;
    int32 app_first_time = 12;
    string register_channel = 13;
    bool new_user = 14;
    string app_build = 15;
    string platform = 16;
    string manufacturer = 17;
    string device_model = 18;
    double longitude = 19;
    double latitude = 20;
    int32 network_type = 21;
    string note_id = 22;
    string goods_id = 23;
    int32 ads_id = 24;
    int32 unit_id = 25;
    int32 bid = 26;
    int32 advertiser_id = 27;
    int32 campaign_id = 28;
    int32 ads_type = 29;
    string ads_uuid = 30;
    int32 bid_type_value = 31;
    string bidword = 32;
    int32 matchtype = 33;
    int32 creativity_type_value = 34;
    int32 creative_jumptype_value = 35;
    string ad_title = 36;
    repeated string ad_title_segments = 37;
    double realtime_ctr = 38;
    int32 realtime_imp = 39;
    int32 realtime_clk = 40;
    repeated AdsSearchCtrContiInfo conti_info = 41;
    string request_id = 42;
    repeated string leads_land_page_title_segments = 43;
    string trade_type_first_code = 44;
    string trade_type_second_code = 45;
    repeated RealTimeLastN last_n_query = 46;
    repeated RealTimeLastN last_n_ad = 47;
    repeated RealTimeLastN last_n_search_ad = 48;
    repeated RealTimeLastN last_n_imp_ad = 49;
    repeated string user_search_brand_list = 50;
    repeated string user_feed_brand_list = 51;
    string ad_brand_id = 52;
    int32 search_brand_matched = 53;
    int32 feed_brand_matched = 54;
    repeated string user_taxonomy1_list = 55;
    repeated string user_taxonomy2_list = 56;
    string query_taxonomy1 = 57;
    string query_taxonomy2 = 58;
    repeated string ad_taxonomy1_list = 59;
    repeated string ad_taxonomy2_list = 60;
    repeated double dense_feature_list = 61;
    int32 member_flag = 62;
    int64 collect_time = 63;
    repeated string user_top_imp_ads = 64;
    repeated string user_click_ads = 65;
    repeated string user_query = 66;
    repeated string user_query_terms = 67;
    repeated string loaded_ads = 68;
    int32 promotion_target = 69;
    repeated double breakdown_dense_feature = 82;
    int32 taxonomy1 = 83;
    int32 taxonomy2 = 84;
    int32 like_count = 85;
    int32 comment_count = 86;
    int32 fav_count = 87;
    string author_id = 88;
    repeated UserNoteAction user_note_click_lastn = 89;
    repeated UserNoteAction user_note_like_lastn = 90;
    repeated UserNoteAction user_note_collect_lastn = 91;
    repeated UserNoteAction user_note_comment_lastn = 92;
    repeated UserNoteAction user_note_share_lastn = 93;
    repeated UserNoteAction user_note_follow_lastn = 94;
    repeated UserNoteAction user_note_screenshot_lastn = 95;
    repeated string long_user_top_imp_ads = 96;
    repeated string long_user_click_ads = 97;
    repeated string long_user_query = 98;
    repeated string long_user_query_seg = 99;
    string desc_query = 100;
    repeated double note_dense_feature = 101;

    repeated int64 user_note_engage_keywords = 102;
    repeated string user_ads_all_click = 103;
    repeated string user_ads_all_imp = 104;
    repeated int64 user_note_click_keywords = 105;
    repeated int64 user_ads_all_click_keywords = 106;
    repeated string user_ads_all_click_brands = 107;
    repeated string user_ads_all_click_material_ids = 108;
    repeated int64 user_ads_all_imp_keywords = 109;
    repeated string user_ads_all_imp_brands = 110;
    repeated string user_ads_all_imp_material_ids = 111;
    repeated string follow_authors = 112;
    repeated string query_title_sec = 113;
    repeated string query_not_contain_title = 114;
    int32 query_char_len = 115;
    int32 query_segs_len = 116;
    int32 query_title_sec_len = 117;
    int32 query_not_contain_title_len = 118;
    int32 title_cover_ratio = 119;
    string material_id = 120;
    int32 imp_14 = 121;
    int32 clk_14 = 122;
    int32 imp_7 = 123;
    int32 clk_7 = 124;
    int32 imp_3 = 125;
    int32 clk_3 = 126;
    string followed = 127;
    repeated int64 ads_keywords = 128;
    string goods_seller_id = 129;
    string goods_first_category_name = 130;
    string goods_second_category_name = 131;
    string goods_third_category_name = 132;
    string goods_fourth_category_name = 133;
    string goods_business_line = 134;
    string goods_brand_name = 135;
    string goods_source_country = 136;
    int32 user_mate_clk_14 = 137;
    int32 user_mate_imp_14 = 138;
    int32 user_mate_clk_7 = 139;
    int32 user_mate_imp_7 = 140;
    int32 user_mate_clk_3 = 141;
    int32 user_mate_imp_3 = 142;
    repeated double goods_dense_feature = 143;
    int32 ads_platform = 144;
    int32 optimize_target = 145;
    repeated UserNoteAction feed_ads_pt_actions = 146;
    repeated UserNoteAction feed_ads_engage_actions = 147;
}
message AdsSearchCtrContiInfo {
    string name = 1;
    int32 index = 2;
    double value = 3;
}
message RealTimeLastN {
    KeyEntry item_key = 1;
    int32 page_instance = 2;
    int32 action = 3;
    string query = 4;
    int32 cnt = 5;
    int32 position = 6;
    int64 timestamp = 7;
    map<string, string> addition_attr = 8;
}
message KeyEntry {
    int32 key_type = 1;
    string key_id = 2;
}
message UserNoteAction {
    int32 timestamp = 1;
    string feed_type = 2;
    string note_id = 3;
    int32 note_type = 4;
    string author_id = 5;
    int32 taxonomy1 = 6;
    int32 taxonomy2 = 7;
    int32 duration = 8;
    string taxonomy_l1_str = 9;
    string taxonomy_l2_str = 10;
}

